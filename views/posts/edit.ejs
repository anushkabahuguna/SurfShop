<% layout('layouts/boilerplate') -%>
<h1>
	Edit <%= post.title %>
</h1>
<form action="/posts/<%= post.id %>?_method=PUT" method="POST" id="postEditForm" enctype="multipart/form-data">
	<div>
		<input type="text" value="<%= post.title %>" name="post[title]">
	</div>
	<div>
		<input type="text" value="<%= post.price %>" name="post[price]">
	</div>
	<div>
		<div>
			<% post.images.forEach(function(image, i){ %>	
			<img src="<%= image.url %>" alt="image" width="200px" />
			<!-- we cant have more than one unique ids we have to give different to each image -->
			<label for="image<%= i %>">Delete?</label>
			<input type="checkbox" name="deleteImages[]" class="imageDeleteCheckox" id="image<%= i %>" 
			value="<%= image.public_id %>">
			<% }); %>
		</div>
		<input type="file" id="imageUpload" accept="image/*" name ="images" multiple />
	</div>
	<div>
		<textarea name="post[description]"><%= post.description %></textarea>
	</div>
	<div>
		<input type="text" value="<%= post.location %>" name="post[location]">
	</div>
	
	<input type="submit">
	
</form>



<!-- handle our photos edit -->
<!-- compare uploaded images existing images and deleted images -->
<!-- we will add an id to our file upload to check the no. of photos being uploaded -->

<script src="/javascripts/post-edit.js">
</script>



